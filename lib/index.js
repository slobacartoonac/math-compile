(()=>{"use strict";var e={738:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluate=t.NegateExp=void 0;const n=o(403),r=o(215);class i extends r.Exp{constructor(e){super(),this.expression=e}}t.NegateExp=i,t.evaluate=function e(t,o={}){switch(!0){case t instanceof r.NoopExp:return 0;case t instanceof r.BinaryExp:let u=t;return function(e,t,o){switch(o){case n.TokenType.tok_op_plus:return e+t;case n.TokenType.tok_op_minus:return e-t;case n.TokenType.tok_op_multiply:return e*t;case n.TokenType.tok_op_devide:return e/t;case n.TokenType.tok_op_power:return Math.pow(e,t);case n.TokenType.tok_op_modulo:return e%t;default:throw new Error("Operation "+o+" unknown")}}(e(u.left,o),e(u.right,o),u.op);case t instanceof r.IdentifierExp:return o[t.value];case t instanceof r.NumberExp:return t.value;case t instanceof r.BracketsExp:return e(t.expression,o);case t instanceof i:return-e(t.expression,o);default:return-1}}},403:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TokenType=t.tokenize=t.setInput=t.NumVal=t.IdentifierStr=t.getTokenElement=t.getNextToken=t.CurTok=void 0;const n=o(896);function r(){return t.CurTok=f()}function i(){switch(t.CurTok){case l.tok_identifier:return new c(l.tok_identifier,u.Col,u.Line,t.IdentifierStr);case l.tok_number:return new c(l.tok_number,u.Col,u.Line,"",t.NumVal);default:return new c(t.CurTok,u.Col,u.Line)}}t.getNextToken=r,t.getTokenElement=i;let u,s=" ",p={Line:1,Col:0};function k(e){a=e,s="",p={Line:1,Col:0},t.CurTok=null}var l;function _(){let e=function(){let e=a.split(""),t=e.shift();return void 0===t?(a="\0",n.EOF):(a=e.join(""),t)}();return"\n"==e||"\r"==e?(p.Line++,p.Col=0):p.Col++,e}t.setInput=k,t.tokenize=function(e){k(e);let o=[];for(;t.CurTok!=l.tok_eof;)r(),o.push(i());return o},function(e){e.tok_eof="tok_eof",e.tok_identifier="tok_identifier",e.tok_number="tok_number",e.tok_op_plus="tok_op_plus",e.tok_op_minus="tok_op_minus",e.tok_op_multiply="tok_op_multiply",e.tok_op_devide="tok_op_devide",e.tok_op_power="tok_op_power",e.tok_op_modulo="tok_op_modulo",e.tok_open="tok_open",e.tok_close="tok_close"}(l=t.TokenType||(t.TokenType={}));class c{constructor(e,t,o,n="",r=0){this.tokenType=e,this.column=t,this.line=o,this.str=n,this.value=r}}t.Token=c;let a="";function f(){for(;(0,n.isspace)(s);)s=_();if(u=p,(0,n.isalpha)(s)){for(t.IdentifierStr=s;(0,n.isalnum)(s=_());)t.IdentifierStr+=s;return l.tok_identifier}if((0,n.isdigit)(s)||"."==s){let e="";do{e+=s,s=_()}while((0,n.isdigit)(s)||"."==s);return t.NumVal=(0,n.strtod)(e),l.tok_number}if("+"==s)return s=_(),l.tok_op_plus;if("-"==s)return s=_(),l.tok_op_minus;if("*"==s)return s=_(),l.tok_op_multiply;if("/"==s)return s=_(),l.tok_op_devide;if("^"==s)return s=_(),l.tok_op_power;if("%"==s)return s=_(),l.tok_op_modulo;if(["{","[","("].includes(s))return s=_(),l.tok_open;if(["}","]",")"].includes(s))return s=_(),l.tok_close;if("#"==s){do{s=_()}while(s!=n.EOF&&"\n"!=s&&"\r"!=s);if(s!=n.EOF)return f()}if(s==n.EOF)return l.tok_eof;let e=s;throw s=_(),Error("Undefined token"+e+" ( "+e.charCodeAt(0)+" ) at: "+JSON.stringify(u))}},215:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseProgram=t.BinaryExp=t.IdentifierExp=t.NumberExp=t.BracketsExp=t.NegateExp=t.NoopExp=t.Exp=void 0;const n=o(403);let r,i,u=0;function s(){return u++,r.length<=u?(u=r.length-1,new n.Token(n.TokenType.tok_eof,0,0)):(i=r[u],r[u])}function p(){return r[u]}function k(e){return p().tokenType===e}class l{}t.Exp=l,t.NoopExp=class extends l{};class _ extends l{constructor(e){super(),this.expression=e}}t.NegateExp=_;class c extends l{constructor(e){super(),this.expression=e}}t.BracketsExp=c;class a extends l{constructor(e){super(),this.value=e}}t.NumberExp=a;class f extends l{constructor(e){super(),this.value=e}}t.IdentifierExp=f;class d extends l{constructor(e,t,o){super(),this.left=e,this.right=t,this.op=o}}t.BinaryExp=d;class T extends l{constructor(e){super(),this.priority=function(e){return{[n.TokenType.tok_op_plus]:1,[n.TokenType.tok_op_minus]:1,[n.TokenType.tok_op_multiply]:2,[n.TokenType.tok_op_devide]:2,[n.TokenType.tok_op_modulo]:4,[n.TokenType.tok_op_power]:5}[e]}(e),this.op=e}}function y(){var e,t;if(k(n.TokenType.tok_eof)||k(n.TokenType.tok_close))return null;if([n.TokenType.tok_op_plus,n.TokenType.tok_op_minus,n.TokenType.tok_op_multiply,n.TokenType.tok_op_devide,n.TokenType.tok_op_modulo,n.TokenType.tok_op_power].includes(p().tokenType)){var o=p().tokenType;return s(),new T(o)}if(k(n.TokenType.tok_open))return function(){s();let e=x();return s(),new c(e)}();if(k(n.TokenType.tok_op_minus))return s(),new _(x());if(k(n.TokenType.tok_op_plus))return s(),y();if(k(n.TokenType.tok_identifier)){let t=(null===(e=p())||void 0===e?void 0:e.str)||"";return s(),new f(t)}let r=(null===(t=p())||void 0===t?void 0:t.value)||0;return s(),new a(r)}function x(){let e=null,t=[];for(;!k(n.TokenType.tok_eof)&&!k(n.TokenType.tok_close);)t.push(y());for(;t.length>1;){const e=(o=void 0,void 0,o=t.map((function(e){return e instanceof T?e.priority:0})),r=Math.max.apply(Math,o),o.indexOf(r)),n=t[e],i=t[e-1],u=t[e+1];t.splice(e-1,3,new d(i,u,n.op))}var o,r;return e=t[0],e||new a(0)}t.parseProgram=function(e){return r=(0,n.tokenize)(e),u=0,x()}},896:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EOF=t.strtod=t.isalpha=t.isalnum=t.isdigit=t.isspace=void 0,t.isspace=function(e){return/\s/.test(e)||""==e},t.isdigit=function(e){return/[0-9]/.test(e)},t.isalnum=function(e){return/[a-zA-Z0-9]/.test(e)},t.isalpha=function(e){return/[a-zA-Z]/.test(e)},t.strtod=function(e){let t=parseFloat(e);return isNaN(t)?0:t},t.EOF="\0"}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o(215),o(738)})();